!function(){function n(n,e){function l(){for(;a=s<p.length&&n>d;){var t=s++,e=p[t],l=u.call(e,1);l.push(o(t)),++d,e[0].apply(null,l)}}function o(n){return function(t,u){--d,null==m&&(null!=t?(m=t,s=h=0/0,r()):(p[n]=u,--h?a||l():r()))}}function r(){null!=m?y(m):f?y(m,p):y.apply(null,[m].concat(p))}null==e&&(null!==n&&"object"==typeof n?(e=n,n=null):e={autoStart:!0});var i,a,f,c=null==e.autoStart?!0:e.autoStart,p=[],s=0,d=0,h=0,m=null,y=t,v=c;return n||(n=1/0),i={defer:function(){return m||(p.push(arguments),++h,v&&l()),i},await:function(n){return y=n,f=!1,h||r(),i},awaitAll:function(n){return y=n,f=!0,h||r(),i},start:function(){if(v)throw"Can't start queue twice.";return v=!0,l(),i}}}function t(){}var u=[].slice;n.version="1.0.7","function"==typeof define&&define.amd?define(function(){return n}):"object"==typeof module&&module.exports?module.exports=n:this.queue=n}();